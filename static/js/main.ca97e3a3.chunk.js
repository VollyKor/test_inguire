(this.webpackJsonptest_task_inquire=this.webpackJsonptest_task_inquire||[]).push([[0],{14:function(t,e,n){t.exports={form:"UpdatePostForm_form__3h0Nh",text:"UpdatePostForm_text__3O-IG",input:"UpdatePostForm_input__2WjHG",textarea:"UpdatePostForm_textarea__1-D8z",button:"UpdatePostForm_button__2RK-j",label:"UpdatePostForm_label__xpgPM",wrapper:"UpdatePostForm_wrapper__2UOBw",buttonClose:"UpdatePostForm_buttonClose__37BtN"}},16:function(t,e,n){t.exports={form:"AddPostForm_form__3IfAX",label:"AddPostForm_label__1vCym",text:"AddPostForm_text__2o07m",input:"AddPostForm_input__32xM6",textarea:"AddPostForm_textarea__5S7kA",button:"AddPostForm_button__2lBCq"}},20:function(t,e,n){t.exports={form:"AddCommentsForm_form__3GqOw",text:"AddCommentsForm_text__22qJS",input:"AddCommentsForm_input__2IqZy",button:"AddCommentsForm_button__1uUOV"}},21:function(t,e,n){t.exports={header:"NavBar_header__1jZCd",link:"NavBar_link__1j-_p",active:"NavBar_active__RXoMI"}},26:function(t,e,n){t.exports={buttonGroup:"SinglePost_buttonGroup__32hYW",text:"SinglePost_text__2e7kT",title:"SinglePost_title__EIsPs",link:"SinglePost_link__2mjy6"}},29:function(t,e,n){t.exports={list:"Comments_list__1DNdh",text:"Comments_text__1ZcD5",item:"Comments_item__3oZr1",title:"Comments_title__3V76k"}},30:function(t,e,n){t.exports={wrapper:"SinglePagePost_wrapper__1Fo-c",buttonGroup:"SinglePagePost_buttonGroup__2mlqm",text:"SinglePagePost_text__3ew5D",title:"SinglePagePost_title__3dK90"}},35:function(t,e,n){t.exports={wrapper:"Modal_wrapper__3iECU",backdrop:"Modal_backdrop__BQqZK"}},36:function(t,e,n){t.exports={btn:"CloseButton_btn__ae31u",icon:"CloseButton_icon__1y0A8"}},39:function(t,e,n){t.exports={hero:"Hero_hero__3jIec",img:"Hero_img__3wx7T",error:"Hero_error__1hxxj"}},40:function(t,e,n){t.exports={list:"Posts_list__zqs28",item:"Posts_item__3MTJE"}},52:function(t,e){},55:function(t,e,n){t.exports={body:"Container_body__1oX8I"}},56:function(t,e,n){t.exports={button:"Button_button__2c1R0"}},90:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"req",(function(){return x})),n.d(r,"getAllPosts",(function(){return O})),n.d(r,"getPostById",(function(){return _})),n.d(r,"addPost",(function(){return v})),n.d(r,"updatePost",(function(){return g})),n.d(r,"removePost",(function(){return C})),n.d(r,"addComment",(function(){return P}));var a={};n.r(a),n.d(a,"RgetAllPosts",(function(){return y})),n.d(a,"RgetPostById",(function(){return N})),n.d(a,"RupdatePostById",(function(){return w})),n.d(a,"RaddPost",(function(){return k})),n.d(a,"RdeletePost",(function(){return I})),n.d(a,"RaddComment",(function(){return S}));var s={};n.r(s),n.d(s,"fetchPosts",(function(){return F})),n.d(s,"fetchPostById",(function(){return A})),n.d(s,"fetchAddPost",(function(){return B})),n.d(s,"fetchUpdatePost",(function(){return R})),n.d(s,"fetchDeletePost",(function(){return L})),n.d(s,"fetchAddComment",(function(){return U}));var c=n(0),o=n.n(c),i=n(22),u=n.n(i),d=n(31),l=n(28),j=n(15),p=n(7),b=n(2),f=n.n(b),m=n(5),h=n(54),x=n.n(h).a.create({baseURL:"https://bloggy-api.herokuapp.com"}),O=function(){return x.get("/posts").then((function(t){return t.data})).catch((function(t){throw new Error(t.message)}))},_=function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get("/posts/".concat(e,"?_embed=comments"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t){return x.post("/posts",t).then((function(t){return t.data})).catch((function(t){throw new Error(t.message)}))},g=function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.put("/posts/".concat(e.id));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(m.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.delete("/posts/".concat(e));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new Error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.post("/comments",e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),y=(n(52),"posts/getAll"),N="posts/getPostById",w="posts/updatePostById",k="posts/addPost",I="posts/deletePost",S="posts/addComment",F=Object(p.c)(a.RgetAllPosts,Object(m.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getAllPosts();case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),A=Object(p.c)(a.RgetPostById,function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getPostById(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),B=Object(p.c)(a.RaddPost,function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.addPost(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),R=Object(p.c)(a.RupdatePostById,function(){var t=Object(m.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.updatePost(e);case 3:return t.abrupt("return",e);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.message;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()),L=Object(p.c)(a.RdeletePost,function(){var t=Object(m.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.removePost(e);case 3:return t.abrupt("return",e);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.message;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()),U=Object(p.c)(a.RaddComment,function(){var t=Object(m.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.addComment(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),D=(Object(p.b)(a.RaddPost),Object(p.b)(a.RdeletePost),Object(p.b)(a.RupdatePostById),Object(p.b)(a.RupdatePostById),function(t){return t.posts}),E=s.fetchPosts,q=s.fetchAddPost,G=s.fetchUpdatePost,T=s.fetchDeletePost,M=Object(p.d)({name:"posts",initialState:{posts:[],comments:[],isLoading:!1,isFetching:!1,error:null},reducers:{},extraReducers:function(t){t.addCase(E.pending,(function(t){t.isLoading=!0})).addCase(E.fulfilled,(function(t,e){var n=e.payload;t.isLoading=!1,t.posts=n})).addCase(E.rejected,(function(t){t.isLoading=!1,t.isLoading=!0})).addCase(q.pending,(function(t){t.isLoading=!0})).addCase(q.fulfilled,(function(t,e){var n=e.payload;t.posts.push(n)})).addCase(q.rejected,(function(t){t.isLoading=!1})).addCase(G.pending,(function(t){t.isLoading=!0})).addCase(G.fulfilled,(function(t,e){var n=e.payload,r=t.posts.map((function(t){return t.id===n.id?n:t}));t.posts=r})).addCase(G.rejected,(function(t){t.isLoading=!1})).addCase(T.pending,(function(t){t.isLoading=!0})).addCase(T.fulfilled,(function(t,e){var n=e.payload,r=t.posts.filter((function(t){return t.id!==n}));t.posts=r})).addCase(T.rejected,(function(t){t.isLoading=!1})).addCase(U.pending,(function(t){t.isLoading=!0})).addCase(U.fulfilled,(function(t,e){var n=e.payload;t.comments.unshift(n)})).addCase(U.rejected,(function(t){t.isLoading=!1})).addCase(A.pending,(function(t){t.isLoading=!0})).addCase(A.fulfilled,(function(t,e){var n=e.payload;t.comments=n.comments})).addCase(A.rejected,(function(t){t.isLoading=!1}))}}),H=Object(p.a)(M),Z=(n(90),n(55)),J=n.n(Z),K=n(1);function z(t){var e=t.children;return Object(K.jsx)("div",{className:J.a.body,children:e})}var V=n(4),X=function(){return Object(l.b)()},W=l.c,Q=n(20),Y=n.n(Q);function $(t){var e=t.postId,n=t.onClose,r=Object(c.useState)(""),a=Object(V.a)(r,2),s=a[0],o=a[1],i=X(),u="comment";return Object(K.jsx)("div",{className:Y.a.wrapper,children:Object(K.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),i(U({postId:e,body:s})),o(""),n()}(t)},className:Y.a.form,children:[Object(K.jsxs)("label",{htmlFor:u,className:Y.a.label,children:[Object(K.jsx)("span",{className:Y.a.text,children:"Tap Comments there"}),Object(K.jsx)("input",{type:"text",value:s,onChange:function(t){return o(t.target.value)},id:u,className:Y.a.input,autoComplete:"off"})]}),Object(K.jsx)("button",{className:Y.a.button,type:"submit",children:"Add Comment"})]})})}var tt=n(56),et=n.n(tt);function nt(t){var e=t.children,n=t.onClick;return Object(K.jsx)("button",{type:"button",onClick:n,className:et.a.button,children:e})}var rt=n(6),at=n(35),st=n.n(at),ct=n(62),ot=n(36),it=n.n(ot);function ut(t){var e=t.onClose;return Object(K.jsx)("button",{type:"button","aria-label":"close-button",onClick:e,className:it.a.btn,children:Object(K.jsx)(ct.a,{className:it.a.icon,color:"#e69346"})})}var dt=document.querySelector("#modalRoot");function lt(t){var e=t.onClose,n=t.children;return Object(i.createPortal)(Object(K.jsx)("div",{role:"textbox",tabIndex:0,className:st.a.backdrop,onClick:function(t){t.target===t.currentTarget&&e()},onKeyDown:function(){console.log()},children:Object(K.jsxs)("div",{className:st.a.wrapper,children:[Object(K.jsx)(ut,{onClose:function(){return e()}}),n]})}),dt)}var jt=n(14),pt=n.n(jt);function bt(t){var e=t.postObj,n=t.onClose,r=Object(c.useState)(e.title),a=Object(V.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(e.body),u=Object(V.a)(i,2),d=u[0],l=u[1],j=X(),p="title1",b="body1";return Object(K.jsxs)("form",{className:pt.a.form,onSubmit:function(t){return function(t){t.preventDefault();var r={title:s,body:d,id:e.id};j(R(r)),n()}(t)},children:[Object(K.jsxs)("label",{htmlFor:p,className:pt.a.label,children:[Object(K.jsx)("span",{className:pt.a.text,children:"Title"}),Object(K.jsx)("input",{type:"text",value:s,onChange:function(t){o(t.target.value)},className:pt.a.input,id:p})]}),Object(K.jsxs)("label",{htmlFor:b,className:pt.a.label,children:[Object(K.jsx)("span",{className:pt.a.text,children:"Text"}),Object(K.jsx)("textarea",{className:pt.a.textarea,value:d,id:b,style:{resize:"none"},onChange:function(t){l(t.target.value)}})]}),Object(K.jsxs)("div",{className:pt.a.wrapper,children:[Object(K.jsx)("button",{className:pt.a.button,type:"submit",children:"Save changes"}),Object(K.jsx)("button",{className:pt.a.buttonClose,type:"button",onClick:function(){return n()},children:"Close"})]})]})}var ft=n(29),mt=n.n(ft);function ht(t){var e=t.postId,n=W((function(t){return function(t,e){var n=e.comments.filter((function(e){return e.postId===t}));if(n)return n}(e,t)})),r=X();return Object(c.useEffect)((function(){r(A(e))}),[r,e]),n?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("h3",{className:mt.a.title,children:n.length>0?"Comments":"No Comments"}),Object(K.jsx)("ul",{className:mt.a.list,children:n.map((function(t){return Object(K.jsx)("li",{className:mt.a.item,children:Object(K.jsx)("p",{className:mt.a.text,children:t.body})},t.id)}))})]}):Object(K.jsx)("div",{style:{display:"none"},children:"1"})}var xt=n(30),Ot=n.n(xt);function _t(){var t=Object(c.useState)(!1),e=Object(V.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(!1),s=Object(V.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)(!1),d=Object(V.a)(u,2),l=d[0],j=d[1],p=Object(rt.h)(),b=Object(rt.f)(),f="";p.postId&&(f=p.postId);var m=W((function(t){return function(t,e){return t.posts.find((function(t){return t.id===e}))}(t,f)})),h=X();return Object(c.useEffect)((function(){m||h(A(f))}),[h,f,m]),m?Object(K.jsxs)("div",{className:Ot.a.wrapper,children:[Object(K.jsx)("h2",{className:Ot.a.title,children:m.title}),Object(K.jsx)("p",{className:Ot.a.text,children:m.body}),Object(K.jsxs)("div",{className:Ot.a.buttonGroup,children:[Object(K.jsx)(nt,{onClick:function(){j(!l)},children:"Update"}),Object(K.jsx)(nt,{onClick:function(){var t;t=m.id,h(L(t)),b.push("/")},children:"Delete"}),Object(K.jsx)(nt,{onClick:function(){i(!o)},children:o?"Hide comments":"Show Comments"}),Object(K.jsx)(nt,{onClick:function(){return r(!n)},children:n?"Close form":"Add Comment"})]}),n&&Object(K.jsx)($,{postId:m.id,onClose:function(){return r(!1)}}),o&&Object(K.jsx)(ht,{postId:m.id}),l&&Object(K.jsx)(lt,{onClose:function(){return j(!l)},children:Object(K.jsx)(bt,{postObj:m,onClose:function(){return j(!l)}})})]}):Object(K.jsx)("div",{children:"Post not Found"})}var vt=n(25),gt=n(61),Ct=n(63),Pt=n(16),yt=n.n(Pt);function Nt(){var t=Object(c.useState)(!1),e=Object(V.a)(t,2),n=e[0],r=e[1],a=X(),s="title",o="body",i=Object(gt.a)({defaultValues:{title:"",body:""}}),u=i.register,d=i.handleSubmit;return Object(K.jsxs)("form",{className:yt.a.form,onSubmit:d((function(t){if(t.title.length<3||t.title.length<3)return r(!0),void setTimeout((function(){r(!1)}),3e3);var e=Object(vt.a)({id:Object(Ct.a)()},t);a(B(e))})),children:[Object(K.jsxs)("label",{htmlFor:s,className:yt.a.label,children:[Object(K.jsx)("span",{className:yt.a.text,children:"Title"}),Object(K.jsx)("input",Object(vt.a)(Object(vt.a)({autoComplete:"off",className:yt.a.input,id:s},u(s)),{},{type:"text"}))]}),Object(K.jsxs)("label",{className:yt.a.label,htmlFor:o,children:[Object(K.jsx)("span",{className:yt.a.text,children:"Body"}),Object(K.jsx)("textarea",Object(vt.a)(Object(vt.a)({id:o},u(o)),{},{className:yt.a.textarea}))]}),Object(K.jsx)("button",{className:yt.a.button,type:"submit",children:"Add post"}),n&&Object(K.jsx)("p",{className:"error",children:"Input more than 3 symbols in each field"})]})}var wt=n.p+"static/media/climbing.a7f4d5e8.jpg",kt=n(39),It=n.n(kt);function St(){return Object(K.jsxs)("div",{className:It.a.hero,children:[Object(K.jsx)(Nt,{}),Object(K.jsx)("img",{className:It.a.img,src:wt,alt:"climbing guy"})]})}var Ft=n(21),At=n.n(Ft);function Bt(){var t="/"===Object(rt.g)().pathname;return Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("header",{className:At.a.header,children:Object(K.jsxs)("nav",{className:At.a.nav,children:[Object(K.jsx)(j.c,{to:"/",className:At.a.link,activeClassName:At.a.active,exact:!0,children:"Main"}),!t&&Object(K.jsx)(j.c,{to:"/posts/",className:At.a.link,activeClassName:At.a.active,children:"Post"})]})})})}var Rt=n(26),Lt=n.n(Rt);function Ut(t){var e=t.post,n=t.handleDelete,r=Object(c.useState)(!1),a=Object(V.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(!1),u=Object(V.a)(i,2),d=u[0],l=u[1],p=Object(c.useState)(!1),b=Object(V.a)(p,2),f=b[0],m=b[1];return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("div",{className:Lt.a.wrapper,children:[Object(K.jsx)("h2",{className:Lt.a.title,children:e.title}),Object(K.jsx)("p",{className:Lt.a.text,children:e.body}),Object(K.jsx)(j.b,{to:"posts/".concat(e.id),className:Lt.a.link,children:"Open in another page"}),Object(K.jsxs)("div",{className:Lt.a.buttonGroup,children:[Object(K.jsx)(nt,{onClick:function(){m(!f)},children:"Update"}),Object(K.jsx)(nt,{onClick:function(){return n(e.id)},children:"Delete"}),Object(K.jsx)(nt,{onClick:function(){l(!d)},children:d?"Hide comments":"Show Comments"}),Object(K.jsx)(nt,{onClick:function(){return o(!s)},children:s?"Close form":"Add Comment"})]}),s&&Object(K.jsx)($,{postId:e.id,onClose:function(){return o(!1)}}),d&&Object(K.jsx)(ht,{postId:e.id}),f&&Object(K.jsx)(lt,{onClose:function(){return m(!f)},children:Object(K.jsx)(bt,{postObj:e,onClose:function(){return m(!f)}})})]})})}var Dt=n(40),Et=n.n(Dt);function qt(){var t=X(),e=W(D);function n(e){console.log(e),t(L(e.toString()))}return Object(c.useEffect)((function(){t(F())}),[t]),Object(K.jsx)(K.Fragment,{children:Object(K.jsx)("ul",{className:Et.a.list,children:e.map((function(t){return Object(K.jsx)("li",{className:Et.a.item,children:Object(K.jsx)(Ut,{post:t,handleDelete:n})},t.id)}))})})}var Gt,Tt=function(){var t=Object(rt.g)();return console.log(t),Object(K.jsxs)(z,{children:[Object(K.jsx)(Bt,{}),Object(K.jsxs)(rt.c,{children:[Object(K.jsxs)(rt.a,{path:"/",exact:!0,children:[Object(K.jsx)(St,{}),Object(K.jsx)(qt,{})]}),Object(K.jsx)(rt.a,{path:"/posts/:postId",exact:!0,children:Object(K.jsx)(_t,{})})]})]})},Mt=n(57),Ht=d.b.body(Gt||(Gt=Object(Mt.a)(["\n  font-family: monospace;\n  background-color: red;\n"])));u.a.render(Object(K.jsx)(o.a.StrictMode,{children:Object(K.jsx)(j.a,{children:Object(K.jsx)(l.a,{store:H,children:Object(K.jsx)(d.a,{theme:Ht,children:Object(K.jsx)(Tt,{})})})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.ca97e3a3.chunk.js.map