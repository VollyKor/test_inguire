(this.webpackJsonptest_task_inquire=this.webpackJsonptest_task_inquire||[]).push([[0],{14:function(t,e,n){t.exports={form:"UpdatePostForm_form__3h0Nh",text:"UpdatePostForm_text__3O-IG",input:"UpdatePostForm_input__2WjHG",textarea:"UpdatePostForm_textarea__1-D8z",button:"UpdatePostForm_button__2RK-j",label:"UpdatePostForm_label__xpgPM",wrapper:"UpdatePostForm_wrapper__2UOBw",buttonClose:"UpdatePostForm_buttonClose__37BtN"}},15:function(t,e,n){t.exports={form:"AddPostForm_form__3IfAX",label:"AddPostForm_label__1vCym",text:"AddPostForm_text__2o07m",input:"AddPostForm_input__32xM6",textarea:"AddPostForm_textarea__5S7kA",button:"AddPostForm_button__2lBCq"}},19:function(t,e,n){t.exports={header:"NavBar_header__1jZCd",link:"NavBar_link__1j-_p",active:"NavBar_active__RXoMI"}},20:function(t,e,n){t.exports={form:"AddCommentsForm_form__3GqOw",text:"AddCommentsForm_text__22qJS",input:"AddCommentsForm_input__2IqZy",button:"AddCommentsForm_button__1uUOV"}},28:function(t,e,n){t.exports={list:"Comments_list__1DNdh",text:"Comments_text__1ZcD5",item:"Comments_item__3oZr1",title:"Comments_title__3V76k"}},29:function(t,e,n){t.exports={buttonGroup:"SinglePost_buttonGroup__32hYW",text:"SinglePost_text__2e7kT",title:"SinglePost_title__EIsPs"}},34:function(t,e,n){t.exports={hero:"Hero_hero__3jIec",img:"Hero_img__3wx7T",error:"Hero_error__1hxxj"}},37:function(t,e,n){t.exports={wrapper:"Modal_wrapper__3iECU",backdrop:"Modal_backdrop__BQqZK"}},38:function(t,e,n){t.exports={btn:"CloseButton_btn__ae31u",icon:"CloseButton_icon__1y0A8"}},39:function(t,e,n){t.exports={list:"Posts_list__zqs28",item:"Posts_item__3MTJE"}},51:function(t,e){},54:function(t,e,n){t.exports={body:"Container_body__1oX8I"}},55:function(t,e,n){t.exports={button:"Button_button__2c1R0"}},89:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"req",(function(){return x})),n.d(a,"getAllPosts",(function(){return O})),n.d(a,"getPostById",(function(){return _})),n.d(a,"addPost",(function(){return v})),n.d(a,"updatePost",(function(){return g})),n.d(a,"removePost",(function(){return C})),n.d(a,"addComment",(function(){return y}));var r={};n.r(r),n.d(r,"RgetAllPosts",(function(){return P})),n.d(r,"RgetPostById",(function(){return N})),n.d(r,"RupdatePostById",(function(){return w})),n.d(r,"RaddPost",(function(){return k})),n.d(r,"RdeletePost",(function(){return F})),n.d(r,"RaddComment",(function(){return I}));var o={};n.r(o),n.d(o,"fetchPosts",(function(){return A})),n.d(o,"fetchPostById",(function(){return B})),n.d(o,"fetchAddPost",(function(){return R})),n.d(o,"fetchUpdatePost",(function(){return S})),n.d(o,"fetchDeletePost",(function(){return L})),n.d(o,"fetchAddComment",(function(){return U}));var s=n(0),c=n.n(s),i=n(21),u=n.n(i),l=n(30),d=n(27),p=n(24),b=n(7),m=n(2),f=n.n(m),j=n(4),h=n(53),x=n.n(h).a.create({baseURL:"https://bloggy-api.herokuapp.com"}),O=function(){return x.get("/posts").then((function(t){return t.data})).catch((function(t){throw new Error(t.message)}))},_=function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get("/posts/".concat(e,"?_embed=comments"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t){return x.post("/posts",t).then((function(t){return t.data})).catch((function(t){throw new Error(t.message)}))},g=function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.put("/posts/".concat(e.id));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.delete("/posts/".concat(e));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new Error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.post("/comments",e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),P=(n(51),"posts/getAll"),N="posts/getPostById",w="posts/updatePostById",k="posts/addPost",F="posts/deletePost",I="posts/addComment",A=Object(b.c)(r.RgetAllPosts,Object(j.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getAllPosts();case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),B=Object(b.c)(r.RgetPostById,function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getPostById(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),R=Object(b.c)(r.RaddPost,function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.addPost(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),S=Object(b.c)(r.RupdatePostById,function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.updatePost(e);case 3:return n=t.sent,console.log("post-updated",n),t.abrupt("return",e);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.message;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),L=Object(b.c)(r.RdeletePost,function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.removePost(e);case 3:return console.log("post deleted"),t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),U=Object(b.c)(r.RaddComment,function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.addComment(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),D=(Object(b.b)(r.RaddPost),Object(b.b)(r.RdeletePost),Object(b.b)(r.RupdatePostById),Object(b.b)(r.RupdatePostById),function(t){return t.posts}),E=o.fetchPosts,q=o.fetchAddPost,T=o.fetchUpdatePost,M=o.fetchDeletePost,G=Object(b.d)({name:"posts",initialState:{posts:[],comments:[],isLoading:!1,isFetching:!1,error:null},reducers:{},extraReducers:function(t){t.addCase(E.pending,(function(t){t.isLoading=!0})).addCase(E.fulfilled,(function(t,e){var n=e.payload;t.isLoading=!1,t.posts=n})).addCase(E.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1,t.isLoading=!0})).addCase(q.pending,(function(t){t.isLoading=!0})).addCase(q.fulfilled,(function(t,e){var n=e.payload;t.posts.push(n)})).addCase(q.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1})).addCase(T.pending,(function(t){t.isLoading=!0})).addCase(T.fulfilled,(function(t,e){var n=e.payload,a=t.posts.map((function(t){return t.id===n.id?n:t}));t.posts=a})).addCase(T.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1})).addCase(M.pending,(function(t){t.isLoading=!0})).addCase(M.fulfilled,(function(t,e){var n=e.payload;console.log("slice",n);var a=t.posts.filter((function(t){return t.id!==n}));t.posts=a})).addCase(M.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1})).addCase(U.pending,(function(t){t.isLoading=!0})).addCase(U.fulfilled,(function(t,e){var n=e.payload;t.comments.unshift(n)})).addCase(U.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1})).addCase(B.pending,(function(t){t.isLoading=!0})).addCase(B.fulfilled,(function(t,e){var n=e.payload;t.comments=n.comments})).addCase(B.rejected,(function(t,e){var n=e.payload;console.log(n),t.isLoading=!1}))}}),H=Object(b.a)(G),Z=(n(89),n(54)),J=n.n(Z),z=n(1);function K(t){var e=t.children;return Object(z.jsx)("div",{className:J.a.body,children:e})}var V=n(5),X=n(25),W=n(6),Q=n(60),Y=n(62),$=n(15),tt=n.n($),et=function(){return Object(d.b)()},nt=d.c;function at(){var t=Object(s.useState)(!1),e=Object(W.a)(t,2),n=e[0],a=e[1],r=et(),o="title",c="body",i=Object(Q.a)({defaultValues:{title:"",body:""}}),u=i.register,l=i.handleSubmit;return Object(z.jsxs)("form",{className:tt.a.form,onSubmit:l((function(t){if(t.title.length<3||t.title.length<3)return a(!0),void setTimeout((function(){a(!1)}),3e3);var e=Object(X.a)({id:Object(Y.a)()},t);r(R(e))})),children:[Object(z.jsxs)("label",{htmlFor:o,className:tt.a.label,children:[Object(z.jsx)("span",{className:tt.a.text,children:"Title"}),Object(z.jsx)("input",Object(X.a)(Object(X.a)({autoComplete:"off",className:tt.a.input,id:o},u(o)),{},{type:"text"}))]}),Object(z.jsxs)("label",{className:tt.a.label,htmlFor:c,children:[Object(z.jsx)("span",{className:tt.a.text,children:"Body"}),Object(z.jsx)("textarea",Object(X.a)(Object(X.a)({id:c},u(c)),{},{className:tt.a.textarea}))]}),Object(z.jsx)("button",{className:tt.a.button,type:"submit",children:"Add post"}),n&&Object(z.jsx)("p",{className:"error",children:"Input more than 3 symbols in each field"})]})}var rt=n.p+"static/media/climbing.a7f4d5e8.jpg",ot=n(34),st=n.n(ot);function ct(){return Object(z.jsxs)("div",{className:st.a.hero,children:[Object(z.jsx)(at,{}),Object(z.jsx)("img",{className:st.a.img,src:rt,alt:"climbing guy"})]})}var it=n(19),ut=n.n(it);function lt(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("header",{className:ut.a.header,children:Object(z.jsxs)("nav",{className:ut.a.nav,children:[Object(z.jsx)(p.b,{to:"/",className:ut.a.link,activeClassName:ut.a.active,exact:!0,children:"Main"}),Object(z.jsx)(p.b,{to:"/posts/",className:ut.a.link,activeClassName:ut.a.active,children:"Post"})]})})})}var dt=n(20),pt=n.n(dt);function bt(t){var e=t.postId,n=t.onClose,a=Object(s.useState)(""),r=Object(W.a)(a,2),o=r[0],c=r[1],i=et(),u="comment";return Object(z.jsx)("div",{className:pt.a.wrapper,children:Object(z.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),i(U({postId:e,body:o})),c(""),n()}(t)},className:pt.a.form,children:[Object(z.jsxs)("label",{htmlFor:u,className:pt.a.label,children:[Object(z.jsx)("span",{className:pt.a.text,children:"Tap Comments there"}),Object(z.jsx)("input",{type:"text",value:o,onChange:function(t){return c(t.target.value)},id:u,className:pt.a.input,autoComplete:"off"})]}),Object(z.jsx)("button",{className:pt.a.button,type:"submit",children:"Add Comment"})]})})}var mt=n(55),ft=n.n(mt);function jt(t){var e=t.children,n=t.onClick;return Object(z.jsx)("button",{type:"button",onClick:n,className:ft.a.button,children:e})}var ht=n(37),xt=n.n(ht),Ot=n(61),_t=n(38),vt=n.n(_t);function gt(t){var e=t.onClose;return Object(z.jsx)("button",{type:"button","aria-label":"close-button",onClick:e,className:vt.a.btn,children:Object(z.jsx)(Ot.a,{className:vt.a.icon,color:"#e69346"})})}var Ct=document.querySelector("#modalRoot");function yt(t){var e=t.onClose,n=t.children;return Object(i.createPortal)(Object(z.jsx)("div",{role:"textbox",tabIndex:0,className:xt.a.backdrop,onClick:function(t){t.target===t.currentTarget&&e()},onKeyDown:function(){console.log()},children:Object(z.jsxs)("div",{className:xt.a.wrapper,children:[Object(z.jsx)(gt,{onClose:function(){return e()}}),n]})}),Ct)}var Pt=n(14),Nt=n.n(Pt);function wt(t){var e=t.postObj,n=t.onClose,a=Object(s.useState)(e.title),r=Object(W.a)(a,2),o=r[0],c=r[1],i=Object(s.useState)(e.body),u=Object(W.a)(i,2),l=u[0],d=u[1],p=et(),b="title1",m="body1";return Object(z.jsxs)("form",{className:Nt.a.form,onSubmit:function(t){return function(t){t.preventDefault();var a={title:o,body:l,id:e.id};p(S(a)),n()}(t)},children:[Object(z.jsxs)("label",{htmlFor:b,className:Nt.a.label,children:[Object(z.jsx)("span",{className:Nt.a.text,children:"Title"}),Object(z.jsx)("input",{type:"text",value:o,onChange:function(t){c(t.target.value)},className:Nt.a.input,id:b})]}),Object(z.jsxs)("label",{htmlFor:m,className:Nt.a.label,children:[Object(z.jsx)("span",{className:Nt.a.text,children:"Text"}),Object(z.jsx)("textarea",{className:Nt.a.textarea,value:l,id:m,style:{resize:"none"},onChange:function(t){d(t.target.value)}})]}),Object(z.jsxs)("div",{className:Nt.a.wrapper,children:[Object(z.jsx)("button",{className:Nt.a.button,type:"submit",children:"Save changes"}),Object(z.jsx)("button",{className:Nt.a.buttonClose,type:"button",onClick:function(){return n()},children:"Close"})]})]})}var kt=n(28),Ft=n.n(kt);function It(t){var e=t.postId,n=nt((function(t){return function(t,e){var n=e.comments.filter((function(e){return e.postId===t}));if(n)return n}(e,t)})),a=et();return Object(s.useEffect)((function(){a(B(e))}),[a,e]),n?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h3",{className:Ft.a.title,children:n.length>0?"Comments":"No Comments"}),Object(z.jsx)("ul",{className:Ft.a.list,children:n.map((function(t){return Object(z.jsx)("li",{className:Ft.a.item,children:Object(z.jsx)("p",{className:Ft.a.text,children:t.body})},t.id)}))})]}):null}var At=n(29),Bt=n.n(At);function Rt(t){var e=t.post,n=t.handleDelete,a=Object(s.useState)(!1),r=Object(W.a)(a,2),o=r[0],c=r[1],i=Object(s.useState)(!1),u=Object(W.a)(i,2),l=u[0],d=u[1],p=Object(s.useState)(!1),b=Object(W.a)(p,2),m=b[0],f=b[1];return Object(z.jsxs)("div",{className:Bt.a.wrapper,children:[Object(z.jsx)("h2",{className:Bt.a.title,children:e.title}),Object(z.jsx)("p",{className:Bt.a.text,children:e.body}),Object(z.jsxs)("div",{className:Bt.a.buttonGroup,children:[Object(z.jsx)(jt,{onClick:function(){f(!m)},children:"Update"}),Object(z.jsx)(jt,{onClick:function(){return n(e.id)},children:"Delete"}),Object(z.jsx)(jt,{onClick:function(){d(!l)},children:l?"Hide comments":"Show Comments"}),Object(z.jsx)(jt,{onClick:function(){return c(!o)},children:o?"Close form":"Add Comment"})]}),o&&Object(z.jsx)(bt,{postId:e.id,onClose:function(){return c(!1)}}),l&&Object(z.jsx)(It,{postId:e.id}),m&&Object(z.jsx)(yt,{onClose:function(){return f(!m)},children:Object(z.jsx)(wt,{postObj:e,onClose:function(){return f(!m)}})})]})}var St=n(39),Lt=n.n(St);function Ut(){var t=et(),e=nt(D);function n(e){console.log(e),t(L(e.toString()))}return Object(s.useEffect)((function(){t(A())}),[t]),Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("ul",{className:Lt.a.list,children:e.map((function(t){return Object(z.jsx)("li",{className:Lt.a.item,children:Object(z.jsx)(Rt,{post:t,handleDelete:n})},t.id)}))})})}var Dt,Et=function(){return Object(z.jsxs)(K,{children:[Object(z.jsx)(lt,{}),Object(z.jsx)(V.c,{children:Object(z.jsxs)(V.a,{path:"/",exact:!0,children:[Object(z.jsx)(ct,{}),Object(z.jsx)(Ut,{})]})})]})},qt=n(56),Tt=l.b.body(Dt||(Dt=Object(qt.a)(["\n  font-family: monospace;\n  background-color: red;\n"])));u.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(p.a,{children:Object(z.jsx)(d.a,{store:H,children:Object(z.jsx)(l.a,{theme:Tt,children:Object(z.jsx)(Et,{})})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.1f3aa46a.chunk.js.map